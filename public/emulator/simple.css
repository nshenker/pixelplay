/*
 * Game Boy CSS Theme - v2 (Corrected Layout)
 * This version fixes the positioning of the D-Pad, A/B, and Start/Select buttons.
 */

:root {
  --gb-shell: #c4cfa1; /* The classic beige-gray shell color */
  --gb-bezel: #4c5234; /* Dark gray-green for the screen bezel */
  --gb-buttons: #7b4668; /* The iconic dark magenta for A/B buttons */
  --gb-dpad: #1f1f1f;   /* Dark charcoal for the D-Pad and text */
  --gb-rubber: #757c58;  /* Gray for the Start/Select buttons */
  --gb-screen-bg: #9bbc0f; /* The classic "pea soup" screen background */
}

body {
  background: #333;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  margin: 0;
  padding: 0;
  touch-action: none;
  -webkit-touch-callout: none;
  user-select: none;
  -webkit-user-select: none;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}

#game {
  position: relative;
  width: 320px;
  height: 540px;
  background-color: var(--gb-shell);
  border-radius: 10px 10px 40px 10px;
  box-shadow: 0 10px 20px rgba(0,0,0,0.3), inset 0 0 8px rgba(0,0,0,0.4);
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;
  box-sizing: border-box;
}

#game canvas {
  background: var(--gb-screen-bg);
  border: 18px solid var(--gb-bezel);
  border-radius: 5px;
  box-shadow: inset 0 0 5px rgba(0,0,0,0.5);
  width: 250px;
  height: 225px;
  object-fit: contain;
  image-rendering: pixelated;
  image-rendering: crisp-edges;
  margin-top: 20px;
}

#controller {
  display: block !important;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 1;
}

/* --- D-Pad Styling (FIXED) --- */
#controller_dpad {
  position: absolute;
  bottom: 110px;
  left: 20px;
  width: 100px;
  height: 100px;
}

#controller_dpad:before {
  display: none;
}

/* FIX: Added 'position: absolute' to correctly position the d-pad segments */
#controller_up, #controller_down, #controller_left, #controller_right {
  position: absolute;
  background: var(--gb-dpad);
  box-shadow: inset 2px 2px 3px rgba(255, 255, 255, 0.1), inset -2px -2px 3px rgba(0,0,0,0.5);
}

#controller_left { left: 0; top: 33px; width: 34px; height: 34px; border-top-left-radius: 4px; border-bottom-left-radius: 4px; }
#controller_right { left: 66px; top: 33px; width: 34px; height: 34px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; }
#controller_up { left: 33px; top: 0; width: 34px; height: 34px; border-top-left-radius: 4px; border-top-right-radius: 4px; }
#controller_down { left: 33px; top: 66px; width: 34px; height: 34px; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; }


/* --- A & B Button Styling (FIXED) --- */
/* FIX: Removed the incorrect 'transform: rotate' rule. The diagonal layout is handled purely by positioning. */
#controller_a { position: absolute; bottom: 155px; right: 20px; }
#controller_b { position: absolute; bottom: 115px; right: 70px; }

.roundBtn {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: var(--gb-buttons);
  color: rgba(0,0,0,0.4);
  font-size: 20px;
  font-weight: bold;
  line-height: 50px;
  box-shadow: 0 3px 5px rgba(0,0,0,0.3), inset 0 0 5px rgba(255,255,255,0.2);
  display: flex;
  justify-content: center;
  align-items: center;
}

/* --- Start & Select Button Styling (FIXED) --- */
/* FIX: Removed 'transform: rotate' and adjusted positions for a correct diagonal layout in the center. */
#controller_select { position: absolute; bottom: 70px; left: 105px; }
#controller_start { position: absolute; bottom: 50px; left: 165px; }

.capsuleBtn {
  width: 40px;
  height: 16px;
  border-radius: 8px;
  background: var(--gb-rubber);
  color: rgba(0,0,0,0.4);
  font-size: 9px;
  font-weight: bold;
  box-shadow: inset 0 2px 3px rgba(0,0,0,0.4);
  display: flex;
  justify-content: center;
  align-items: center;
}

.btnPressed {
  opacity: 1;
  box-shadow: inset 0 3px 4px rgba(0,0,0,0.5);
  transform: scale(0.95);
}

@media only screen and (max-width: 500px) and (max-height: 400px) {
  #game {
    display: none;
  }
}
