/*
 * Game Boy CSS Theme
 * This theme restyles the existing emulator elements into a classic handheld design.
 * It preserves all original element IDs to ensure functionality is not broken.
 */

:root {
  --gb-shell: #c4cfa1; /* The classic beige-gray shell color */
  --gb-bezel: #4c5234; /* Dark gray-green for the screen bezel */
  --gb-buttons: #7b4668; /* The iconic dark magenta for A/B buttons */
  --gb-dpad: #1f1f1f;   /* Dark charcoal for the D-Pad and text */
  --gb-rubber: #757c58;  /* Gray for the Start/Select buttons */
  --gb-screen-bg: #9bbc0f; /* The classic "pea soup" screen background */
}

body {
  background: #333; /* A neutral background to make the Game Boy pop */
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  margin: 0;
  padding: 0;
  touch-action: none;
  -webkit-touch-callout: none;
  user-select: none;
  -webkit-user-select: none;
  overflow: hidden;
  /* Center the Game Boy on the page */
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}

/* #game is now the main shell of the Game Boy */
#game {
  position: relative;
  width: 320px;
  height: 540px;
  background-color: var(--gb-shell);
  border-radius: 10px 10px 40px 10px; /* Classic Game Boy rounded corners */
  box-shadow: 0 10px 20px rgba(0,0,0,0.3), inset 0 0 8px rgba(0,0,0,0.4);
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;
  box-sizing: border-box; /* Ensures padding is included in the width/height */
}

/* Style the canvas to look like the screen with a bezel */
#game canvas {
  background: var(--gb-screen-bg);
  border: 18px solid var(--gb-bezel);
  border-radius: 5px;
  box-shadow: inset 0 0 5px rgba(0,0,0,0.5);
  width: 250px; /* Fixed size for the screen area */
  height: 225px;
  object-fit: contain;
  image-rendering: pixelated;
  image-rendering: crisp-edges;
  margin-top: 20px;
}

/* The controller is no longer a separate overlay */
#controller {
  display: block !important; /* Always display the controller */
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 1; /* Make it fully visible */
}

/* --- D-Pad Styling --- */
/* The main D-Pad container. Positioned on the left side. */
#controller_dpad {
  position: absolute;
  bottom: 110px;
  left: 20px;
  width: 100px; /* Resized for the new layout */
  height: 100px;
}

/* Remove the fake center circle */
#controller_dpad:before {
  display: none;
}

/* Style all D-pad segments at once */
#controller_up, #controller_down, #controller_left, #controller_right {
  background: var(--gb-dpad); /* Solid dark color */
  box-shadow: inset 2px 2px 3px rgba(255, 255, 255, 0.1), inset -2px -2px 3px rgba(0,0,0,0.5);
}

/* Position D-pad segments to form a cross */
#controller_left { left: 0; top: 33px; width: 34px; height: 34px; }
#controller_right { left: 66px; top: 33px; width: 34px; height: 34px; }
#controller_up { left: 33px; top: 0; width: 34px; height: 34px; }
#controller_down { left: 33px; top: 66px; width: 34px; height: 34px; }


/* --- A & B Button Styling --- */
/* Use a wrapper to rotate the A and B buttons */
#controller_a, #controller_b {
  transform: rotate(-30deg);
}

#controller_a { position: absolute; bottom: 155px; right: 20px; }
#controller_b { position: absolute; bottom: 115px; right: 70px; }

.roundBtn {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: var(--gb-buttons);
  color: rgba(0,0,0,0.4);
  font-size: 20px;
  font-weight: bold;
  line-height: 50px;
  box-shadow: 0 3px 5px rgba(0,0,0,0.3), inset 0 0 5px rgba(255,255,255,0.2);
  display: flex;
  justify-content: center;
  align-items: center;
}

/* --- Start & Select Button Styling --- */
#controller_start, #controller_select {
  transform: rotate(-30deg);
}

#controller_start { position: absolute; bottom: 65px; right: 85px; }
#controller_select { position: absolute; bottom: 65px; right: 140px; }

.capsuleBtn {
  width: 40px;
  height: 16px;
  border-radius: 8px;
  background: var(--gb-rubber);
  color: rgba(0,0,0,0.4);
  font-size: 9px;
  font-weight: bold;
  box-shadow: inset 0 2px 3px rgba(0,0,0,0.4);
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Visual feedback when a button is pressed */
.btnPressed {
  opacity: 1;
  box-shadow: inset 0 3px 4px rgba(0,0,0,0.5); /* Looks like a real press */
  transform: scale(0.95);
}

/* Remove or adapt old media queries that are no longer relevant */
@media only screen and (max-width: 500px) and (max-height: 400px) {
  /* On small landscape screens, just hide the whole thing */
  #game {
    display: none;
  }
}
